name: conflicting-stack-001
runtime: yaml

variables:
  market_backend_configuration:
    backend_type: "aws:v1"
    bucket: "aws-v1-veg20250513121719426600000001"
    market_metadata_key: "/shopkeeper/market=veg-market/metadata-v1.json"

packages:
  pulumi-shopkeeper:
    source: ../../pulumi-shopkeeper
    version: 0.0.0

resources:
  tomato-producer:
    name: pumpkintown
    type: pulumi-shopkeeper:Producer
    properties:
      description: "Delicious but wrong, this should crash because this producer was defined somewhere else"
      backendConfiguration: ${market_backend_configuration}
      tags:
        weather_today: mild

