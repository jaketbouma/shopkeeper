#
# DO NOT EDIT! Code is generated by component_factory.py

from typing import Any, Optional, Type
import inspect

from pulumi import ComponentResource, Output, ResourceOptions
from shopkeeper import backend_factory

from shopkeeper.aws.market import AWSBackendDeclaration, AWSBackendDeclaration, AWSBackendDeclaration, AWSBackendDeclaration

class AwsV1(ComponentResource):
    market_data: Output[Any]

    def __init__(
        self,
        name: str,
        args: AWSBackendDeclaration,
        opts: Optional[ResourceOptions] = None,
    ):
        super().__init__(
            "pulumi-shopkeeper:index:AwsV1",
            name,
            props={},
            opts=opts,
        )
        
        # play it safe for now
        if inspect.isawaitable(args):
            raise NotImplementedError(
                "Input dependencies not yet implemented, no idea what it will do."
            )
        
        # ensure that parent is passed through
        opts = ResourceOptions.merge(ResourceOptions(parent=self), opts)

        # declare the market backend
        Backend = backend_factory.get_market_backend(args.backend_type)
        self.market_data = Backend.declare_market(
            name=name,
            backend_declaration=args,
        )

        self.register_outputs({"marketData": self.market_data})


class AwsLatest(ComponentResource):
    market_data: Output[Any]

    def __init__(
        self,
        name: str,
        args: AWSBackendDeclaration,
        opts: Optional[ResourceOptions] = None,
    ):
        super().__init__(
            "pulumi-shopkeeper:index:AwsLatest",
            name,
            props={},
            opts=opts,
        )
        
        # play it safe for now
        if inspect.isawaitable(args):
            raise NotImplementedError(
                "Input dependencies not yet implemented, no idea what it will do."
            )
        
        # ensure that parent is passed through
        opts = ResourceOptions.merge(ResourceOptions(parent=self), opts)

        # declare the market backend
        Backend = backend_factory.get_market_backend(args.backend_type)
        self.market_data = Backend.declare_market(
            name=name,
            backend_declaration=args,
        )

        self.register_outputs({"marketData": self.market_data})



components : list = [
    AwsV1,
    AwsLatest,
]